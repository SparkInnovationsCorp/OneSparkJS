/**
 * OneSparkJS JavaScript Game Engine
 * Version 1.0.0.0
 * Created by Jason Bramble
 * Copyright (c) 2023 Spark Innovations Corp
 * Licensed under the OneSparkJS License Agreement
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software
 * and associated documentation files (the "Software"), to use, copy, modify, and distribute the Software
 * in non-commercial projects subject to the following conditions:
 *
 * - The above copyright notice and this permission notice shall be included in all copies or substantial
 *   portions of the Software.
 * - Credit shall be given to "OneSparkJS by Spark Innovations Corp" in any accompanying documentation or README file.
 *
 * Permission is also granted to use, copy, modify, and distribute the Software in commercial or revenue-generating
 * projects with the explicit permission of Spark Innovations Corp. To request permission, please contact us
 * at support@sparkinnovationscorp.com.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 * TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF
 * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
function _0x57a4(t,e){const s=_0x54a6();return(_0x57a4=function(t,e){return t-=278,s[t]})(t,e)}function _0x54a6(){const t=["Helper","log","length","3324280SUApdS","startsWith","responseText","status","Instance","Child","indexOf","find","onStop","start","23014jgVdLZ","open","onLoad","$1S.include(","autoStart","main.js","onStart","1PZrCzh","registerType","Application not defined.","Parent","Type","onTick","handlePostTickEvent","21zDccos","endsWith","https://","getType","onload","floor","946872mJYMzw","onerror",', "',"handleTickEvent","include","Application","getTypeAsync","5405510PAzUzI","error","newId","2330937pGeHtj","href","25791651CfCjwo","split","stack","function","requestAnimationFrame","sort","includes","No files to load","substring","startClock","pathname","Errors loading files: ","onPostTick","$1S.import(","Alias","Priority","\n}\nfactory();","Type with alias ","Error: 'files' parameter must be an array or a string","toLowerCase","Error evaluating script in ","6403872kZwLCX","load","send","replace","Module","$1S","charAt","stopClock","slice","push","get","All extensions loaded.","registerExtension","Stage","clear","MainApp","Renderer","forEach","10bqfUcw","isArray","All files loaded successfully"];return(_0x54a6=function(){return t})()}function _0x5ed5(t,e){var s=_0x5014();return(_0x5ed5=function(t,e){return s[t-=437]})(t,e)}(function(){for(var t=_0x57a4,e=_0x54a6();;)try{if(553301==-parseInt(t(357))*(parseInt(t(350))/2)+-parseInt(t(293))/3+parseInt(t(340))/4+-parseInt(t(290))/5+-parseInt(t(283))/6*(parseInt(t(364))/7)+-parseInt(t(316))/8+parseInt(t(295))/9*(parseInt(t(334))/10))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(_0x2c92bc=>{const _0x1c0bcd=_0x57a4,_0x2007db={};_0x2007db[_0x1c0bcd(288)]=(()=>{let t=0,e=!1,n=null,l=[];class i{constructor(t=0){const s=_0x57a4;l[s(325)]({Instance:this,Priority:t}),l[s(300)]((t,e)=>t[s(310)]-e.Priority)}}const d=async()=>{var t=_0x57a4,e=await $1S[t(289)](t(331));e?((n=new e).onStart&&n[t(356)](),s()):console[t(291)](t(359))},s=()=>{t=0,e=!0,window.requestAnimationFrame(a)},a=s=>{const i=_0x57a4;let r=s-t;n&&(n[i(362)]&&n[i(362)](s,r),l[i(333)](t=>{var e=i;t[e(344)].handleTickEvent&&t[e(344)][e(286)](s,r)}),l.forEach(t=>{var e=i;t[e(344)].handlePostTickEvent&&t[e(344)][e(363)](s,r)}),n[i(307)])&&n[i(307)](s,r),t=s,e&&window[i(299)](a)},r=()=>{e=!1};return{ExtensionType:i,version:"1.0.0",load:(t,r={},n=null)=>{const e=_0x57a4;t[e(278)]("/")||(t+="/");{var s=t,i=r,a=()=>{const i=e;console[i(338)](i(327)),$1S[i(287)](t+i(355),null,(t,e)=>{var s=i;t?(r[s(354)]&&d(),n&&n()):console[s(291)](e)})};const c=_0x57a4;var h=l.length,o=0;l[c(333)](t=>{var e=c;t[e(344)][e(352)]&&t[e(344)].onLoad(s,i,()=>{++o===h&&a()})})}},start:d,stop:async()=>{var t=_0x57a4;n[t(348)]&&n.onStop(),r(),$1S[t(332)].Graphics[t(330)](),OneStartJS[t(329)].reset()},get:()=>n,tick:a,startClock:s,stopClock:r,registerExtension:(t,e=0)=>{const s=_0x57a4;t instanceof i?(l[s(325)]({Instance:t,Priority:e}),l[s(300)]((t,e)=>t[s(310)]-e[s(310)])):console[s(291)]("Error: obj is not an instance of ApplicationExtensionType")}}})(),_0x2007db[_0x1c0bcd(337)]={newId:()=>{var e=_0x57a4;let s="";for(let t=0;t<32;t++)s+=Math[e(282)](16*Math.random()).toString(16),7!==t&&11!==t&&15!==t&&19!==t||(s+="-");return s}},_0x2007db[_0x1c0bcd(320)]=(()=>{let _0x3090d0=[],_0x1ffd51=[],_0x20f9bf=[],_0x5caeac=[];const _0x281d63=(_0x403c90,_0x70f29=null,_0x53a9ff=null)=>{const _0x5a984c=_0x57a4;if("string"==typeof _0x403c90)_0x403c90=[_0x403c90];else if(!Array[_0x5a984c(335)](_0x403c90))return void("function"==typeof _0x53a9ff&&_0x53a9ff(!1,_0x5a984c(313)));const _0x4d4df7=null==_0x70f29?_0x3c5d71():_0x70f29,_0x579206=_0x4d4df7[_0x5a984c(319)](/\/[^\/]+$/,"")+"/",_0x4405e2=_0x5a5323=>{const _0x1d3662=_0x5a984c,_0xf0a5d1=_0x3a157a(_0x5a5323,_0x579206),_0x1cacbc=_0x20f9bf.some(t=>t[_0x1d3662(360)]===_0x4d4df7&&t[_0x1d3662(345)]===_0x5a5323);if(_0x1cacbc||_0x20f9bf[_0x1d3662(325)]({Parent:_0x4d4df7,Child:_0x5a5323}),!_0x3090d0[_0x1d3662(301)](_0x5a5323)){if(_0x1ffd51.includes(_0x5a5323)){const _0x8913cf=_0x1ffd51[_0x1d3662(346)](_0x5a5323);-1<_0x8913cf&&_0x1ffd51.splice(_0x8913cf,1)}var _0x87dcec=new XMLHttpRequest;_0x87dcec[_0x1d3662(351)]("GET",_0xf0a5d1,!0),_0x87dcec[_0x1d3662(281)]=function(){const _0x1890ed=_0x1d3662;if(200===_0x87dcec[_0x1890ed(343)]){var _0x467fd2=_0x87dcec[_0x1890ed(342)],_0x467fd2=_0x5e522f(_0x467fd2,_0xf0a5d1);_0x467fd2="async function factory() {\n"+_0x467fd2+_0x1890ed(311);try{eval(_0x467fd2),_0x7cad0d++,_0x3090d0[_0x1890ed(301)](_0x5a5323)||_0x3090d0.push(_0x5a5323),_0x9e177d()}catch(_0x2bb324){console[_0x1890ed(291)](_0x1890ed(315)+_0xf0a5d1+":",_0x2bb324),_0x3d3fb4++,_0x1ffd51[_0x1890ed(325)](_0x5a5323),_0x9e177d()}}},_0x87dcec[_0x1d3662(284)]=function(){var t=_0x1d3662;console[t(291)](t(315)+_0xf0a5d1+":",_0x87dcec.statusText),_0x3d3fb4++,_0x1ffd51[t(325)](_0x5a5323),_0x9e177d()},_0x87dcec[_0x1d3662(318)]()}};let _0x7cad0d=0,_0x3d3fb4=0,_0x261566=[];const _0x9e177d=()=>{var t,e=_0x5a984c;_0x7cad0d+_0x3d3fb4===_0x403c90[e(339)]&&(e=(t=0===_0x3d3fb4)?e(336):e(306)+_0x261566.join("; "),_0x53a9ff)&&_0x53a9ff(t,e)},_0x5e522f=(s,i)=>{var r=_0x5a984c,n=r(353),a=r(308);let h=0;for(;;){var o=s[r(346)](n,h),c=s.indexOf(a,h),l=-1;if(-1===o&&-1===c)break;if(-1!=o&&(-1==c||-1!=c&&o<c)&&(l=o),-1===(l=-1!=c&&(-1==o||-1!=o&&c<o)?c:l))break;let t=1,e=l+n[r(339)];for(;0<t&&e<s.length;)"("===s.charAt(e)?t++:")"===s[r(322)](e)&&t--,e++;if(0!==t)break;o=s[r(324)](l,e)[r(324)](0,-1)+(r(285)+i+'")');s=s[r(324)](0,l)+o+s[r(324)](e),h=l+o.length}return s};_0x403c90&&_0x403c90[_0x5a984c(339)]?_0x403c90[_0x5a984c(333)](_0x4405e2):typeof _0x53a9ff===_0x5a984c(298)&&_0x53a9ff(!0,_0x5a984c(302))},_0x256e05=async(t,e,s=null)=>(_0x281d63(e,s),_0x5546eb(t)),_0x97815a=(t,e)=>{_0x5caeac.find(t=>t.Alias===e)||_0x5caeac.push({Type:t,Alias:e})},_0x5546eb=async e=>{const s=_0x57a4;for(;;){var t=_0x5caeac[s(347)](t=>t[s(309)]===e);if(t)return t[s(361)];await new Promise(t=>setTimeout(t,100))}},_0x15c843=e=>{var t=_0x57a4,s=_0x5caeac[t(347)](t=>t.Alias===e);if(s)return s.Type;throw new Error(t(312)+e+" not found")},_0x3c5d71=()=>{var t=_0x57a4,e=((new Error)[t(297)]||"")[t(296)]("\n")[3]||"",s=e[t(346)]("/",e[t(346)]("//")+2),i=e[t(346)](":",s);return-1!==s&&-1!==i?e[t(303)](s,i):""},_0x3a157a=(t,e)=>{var s=_0x57a4;return t[s(314)]()[s(341)]("http://")||t.toLowerCase().startsWith(s(279))||(e=new URL(e,window.location[s(294)]),t=new URL(t,e)[s(305)]),t};return{include:_0x281d63,importType:_0x256e05,registerType:_0x97815a,getType:_0x15c843,getTypeAsync:_0x5546eb}})(),_0x2c92bc[_0x1c0bcd(321)]={Application:{ExtensionType:_0x2007db[_0x1c0bcd(288)].ExtensionType,load:_0x2007db[_0x1c0bcd(288)][_0x1c0bcd(317)],start:_0x2007db[_0x1c0bcd(288)][_0x1c0bcd(349)],startClock:_0x2007db[_0x1c0bcd(288)][_0x1c0bcd(304)],stopClock:_0x2007db[_0x1c0bcd(288)][_0x1c0bcd(323)],get:_0x2007db.Application[_0x1c0bcd(326)],registerExtension:_0x2007db.Application[_0x1c0bcd(328)]},Assets:{},Helper:{newId:_0x2007db[_0x1c0bcd(337)][_0x1c0bcd(292)]},import:_0x2007db[_0x1c0bcd(320)].importType,include:_0x2007db.Module[_0x1c0bcd(287)],registerType:_0x2007db[_0x1c0bcd(320)][_0x1c0bcd(358)],getType:_0x2007db[_0x1c0bcd(320)][_0x1c0bcd(280)],getTypeAsync:_0x2007db.Module[_0x1c0bcd(289)]}})("undefined"!=typeof window?window:global);var _0x32d182=_0x5ed5;function _0x5014(){var t=["getTileset","name","status","send","height","min","2XeVHLx","ExtensionType","moveTo","length","Error loading asset sheet","122060bSiYfP","getAudio","$1S","undefined","626000SpjTDN","assets.json","red","getContext","CanvasContext","392795CTgzHD","layouts","onload","images","drawImage","343588TBHPcN","loops","406DvtyzU","assetSheet","clipPaths","getImage","preloadImage","open","log","createElement","error","10yTUVPC","3802257KAbOoA","lineTo","onLoad","Audio","push","parse","path","20844dCyVkM","308976uGwzDV","Canvas","beginPath","isArray","audio","preload","canvas","onerror","width","closePath","clipPath","getSpriteLoop","forEach","max","Assets","Ext"];return(_0x5014=function(){return t})()}function _0x289e(){const t=["handles","canvas","mousemove","mouseclick","deviceorientation","106151JWcyih","VISIBILITY_CHANGE","onreadystatechange","handleShakeEvent","send","swipeStartX","handleRotationEvent","mouseMoveEvent","mouseleave","application/json","sort","priority","MOUSE_CANVAS_ENTER","DEVICE_MOTION","addEventListener","77916MIvLUe","TOUCH_MOVE","touchend","attach","MOUSE_SCROLL_UP","hasOwnProperty","40jIiMnV","mousedown","readyState","shake","tapout","region","clear","MOUSE_ENTER","MOUSE_CLICK_OUT","swipeStartT","287rtXMKp","handleGenericEvent","TOUCH_CANCEL","MOUSE_LEAVE","pinchThreshold","visibilityChangeEvent","button","Ext","GET","18077450PAeAdB","keydown","SWIP_LEFT","tapThreshold","getElementById","touchcancel","TAP","mouseup","mousedoubleclick","devicemotion","keyUpEvent","touchEndEvent","lastShakeTime","mouseDownEvent","rightmouseup","mouseCanvasEnterEvent","isOver","CENTER_MOUSE_UP","filter","shakeThreshold","TAP_OUT","MOUSE_MOVE","now","RIGHT_MOUSE_UP","rotate","status","KEY_UP","this","handleTapEvent","clientX","pinch","overrideMimeType","touches","doubleTapTimeout","touchCancelEvent","deviceOrientationEvent","SHAKE","deltaY","atan2","deviceMotionEvent","source","touchmove","keyDownEvent","initialAngle","Application","loadJSON","mouseScrollEvent","sqrt","mousescrollup","calculateDistance","mousecanvasenter","touchMoveEvent","clientY","ROTATE","calculateAngle","initialDistance","touchstart","undefined","mousecanvasleave","touchStartEvent","Inputs","3029895KILLQc","eventHandler","mouseclickout","visibilitychange","expand","MOUSE_CANVAS_LEAVE","swipeleft","InputEventTypes","handleTouchEvent","shakeHandlers","RIGHT_MOUSE_CLICK","MOUSE_UP","responseText","TOUCH_START","1822761Bspuwa","KEY_DOWN","mousescrolldown","handleSwipeEvent","1154286sJzibB","release","MOUSE_CLICK","TOUCH_END","774590oZcmyR","mouseUpEvent","mouseCanvasLeaveEvent","DEVICE_ORIENTATION","doubleTapThreshold","handleMouseEvent","4CmpdPD","tapTimeout","abs","length","centermouseclick","handlePinchEvent","MOUSE_SCROLL_DOWN","mouseenter","swiperight","$1S","accelerationIncludingGravity","rightmouseclick","parse","handleDeviceEvent","swipeThreshold"];return(_0x289e=function(){return t})()}(function(){for(var t=_0x5ed5,e=_0x5014();;)try{if(115707==-parseInt(t(492))*(parseInt(t(497))/2)+parseInt(t(470))/3+-parseInt(t(450))/4+-parseInt(t(445))/5+parseInt(t(469))/6*(-parseInt(t(452))/7)+parseInt(t(440))/8+-parseInt(t(462))/9*(-parseInt(t(461))/10))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(t=>{var e=_0x5ed5,s={};s[e(484)]=(()=>{var a=e;class t extends $1S.Application[a(493)]{[a(453)]={audio:[],images:[],loops:[],layouts:[]};constructor(){super(100)}[a(464)]=(t,e,i)=>{var r=a;try{var s=t+r(441),n=new XMLHttpRequest;n[r(457)]("GET",s,!0),n.onload=()=>{var t,s=r;200===n[s(488)]&&(t=JSON[s(467)](n.responseText),Array.isArray(t[s(474)])&&(this[s(453)][s(474)]=t[s(474)],$1S[s(465)])&&this[s(453)][s(474)][s(482)](function(t){var e=s;$1S[e(465)][e(475)](t[e(468)])}),Array[s(473)](t.images)&&t[s(448)][s(482)](t=>{this[s(456)](t)}),Array[s(473)](t[s(446)]))&&(this[s(453)][s(446)]=t[s(446)]),i&&i()},n[r(477)]=()=>{var t=r;console[t(460)](t(496),n.statusText),i&&i()},n[r(489)]()}catch(t){console[r(458)](r(496),t),i&&i()}};[a(437)]=e=>{var s=a;for(let t=0;t<this[s(453)][s(474)][s(495)];t++)if(this[s(453)][s(474)][t].name===e)return this[s(453)][s(474)][t];return null};[a(455)]=e=>{var s=a;for(let t=0;t<this.assetSheet[s(448)][s(495)];t++)if(this[s(453)][s(448)][t][s(487)]===e)return this[s(453)][s(448)][t];return null};[a(481)]=e=>{var s=a;for(let t=0;t<this[s(453)][s(451)].length;t++)if(this[s(453)][s(451)][t].group===e)return this[s(453)][s(451)][t];return null};["getTileset"]=e=>{var s=a;for(let t=0;t<this[s(453)][s(446)][s(495)];t++)if(this.assetSheet[s(446)][t][s(487)]===e)return this[s(453)][s(446)][t];return null};[a(456)]=t=>{var e,s=a;t[s(468)]&&((e=new Image).src=t[s(468)],e[s(447)]=()=>{var c=s,l=document.createElement(c(476)),d=l[c(443)]("2d");l[c(478)]=e[c(478)],l[c(490)]=e[c(490)],d[c(449)](e,0,0,e[c(478)],e[c(490)]),(t[c(454)]&&0<t[c(454)][c(495)]?(t.clipPaths.forEach(t=>{for(var e=c,s=1/0,i=-1/0,r=1/0,n=-1/0,a=0;a<t[e(480)].length;a++)s=Math[e(491)](s,t[e(480)][a].x),i=Math[e(483)](i,t[e(480)][a].x),r=Math[e(491)](r,t[e(480)][a].y),n=Math.max(n,t[e(480)][a].y);var h=document[e(459)](e(476)),o=(h[e(478)]=i-s,h[e(490)]=n-r,h[e(443)]("2d"));d.strokeStyle=e(442),d.lineWidth=5,d[e(472)](),d[e(494)](t[e(480)][0].x,t.clipPath[0].y);for(a=1;a<t[e(480)][e(495)];a++)d[e(463)](t[e(480)][a].x,t[e(480)][a].y);d[e(479)](),d.clip(),o.drawImage(l,-s,-r),t[e(471)]=h,t[e(444)]=o,t[e(487)]&&this[e(453)][e(448)][e(466)](t)}),this.assetSheet.loops):(t[c(471)]=l,t[c(444)]=d,this[c(453)][c(448)]))[c(466)](t)})}}return{Ext:new t}})(),t[e(438)][e(484)]={getAudio:s.Assets[e(485)].getAudio,getImage:s.Assets[e(485)].getImage,getSpriteLoop:s[e(484)][e(485)].getSpriteLoop,getTileset:s[e(484)].Ext[e(486)]}})(typeof window!==_0x32d182(439)?window:global);const _0x5ca129=_0x3adf;function _0x3adf(t,e){const s=_0x289e();return(_0x3adf=function(t,e){return t-=176,s[t]})(t,e)}(function(){for(var t=_0x3adf,e=_0x289e();;)try{if(520651==+parseInt(t(209))+parseInt(t(179))/2+parseInt(t(310))/3+parseInt(t(189))/4*(parseInt(t(183))/5)+parseInt(t(224))/6*(-parseInt(t(240))/7)+-parseInt(t(230))/8*(-parseInt(t(324))/9)+-parseInt(t(249))/10)break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(t=>{const e=_0x3adf,n={};n.InputEventTypes={KEY_DOWN:e(250),KEY_UP:"keyup",MOUSE_MOVE:e(206),MOUSE_UP:e(256),MOUSE_CLICK:e(207),MOUSE_CLICK_OUT:e(312),MOUSE_DOUBLE_CLICK:e(257),RIGHT_MOUSE_CLICK:e(200),CENTER_MOUSE_CLICK:e(193),RIGHT_MOUSE_UP:e(263),CENTER_MOUSE_UP:"centermouseup",MOUSE_SCROLL_UP:e(297),MOUSE_SCROLL_DOWN:e(177),MOUSE_ENTER:e(196),MOUSE_LEAVE:e(217),MOUSE_CANVAS_ENTER:e(299),MOUSE_CANVAS_LEAVE:e(307),TOUCH_START:e(305),TOUCH_MOVE:e(290),TOUCH_END:e(226),TOUCH_CANCEL:e(254),SWIP_LEFT:e(316),SWIPE_RIGHT:e(197),TAP:"tap",TAP_OUT:e(234),DOUBLE_TAP:"tap",PINCH:e(279),EXPAND:e(314),ROTATE:e(273),SHAKE:e(233),DEVICE_ORIENTATION:e(208),DEVICE_MOTION:e(258),VISIBILITY_CHANGE:e(313)},n.IO={loadJSON:(t,e)=>{const s=_0x3adf,i=new XMLHttpRequest;i[s(280)](s(218)),i.open(s(248),t,!0),i[s(211)]=function(){var t=s;4===i[t(232)]&&200===i[t(274)]&&e(JSON[t(201)](i[t(322)]))},i[s(213)](null)}},n[e(309)]=(()=>{const h=e;class t extends $1S[h(293)].ExtensionType{[h(214)]=null;["swipeStartT"]=null;[h(203)]=50;["initialDistance"]=null;[h(292)]=null;[h(244)]=10;[h(319)]=[];["lastShakeTime"]=0;[h(268)]=15;["shakeTimeout"]=1e3;[h(190)]=null;[h(282)]=null;[h(187)]=300;[h(252)]=200;["handles"]={};constructor(){super(0)}["onLoad"]=(t,e,s)=>{var i=h;e[i(205)]&&((e=document[i(253)](e.canvas))[i(223)](n[i(317)].MOUSE_MOVE,this[i(216)]),e[i(223)](i(231),this[i(262)]),e[i(223)](n[i(317)][i(321)],this.mouseUpEvent),e[i(223)]("wheel",this[i(295)]),e[i(223)](i(196),this[i(264)]),e.addEventListener(i(217),this[i(185)]),e[i(223)](n[i(317)][i(323)],this[i(308)]),e[i(223)](n[i(317)][i(225)],this[i(300)]),e[i(223)](n[i(317)].TOUCH_END,this[i(260)]),e.addEventListener(n.InputEventTypes[i(242)],this[i(283)])),window.addEventListener(n[i(317)][i(176)],this[i(291)]),window[i(223)](n[i(317)][i(275)],this[i(259)]),window[i(223)](n.InputEventTypes[i(186)],this[i(284)]),window[i(223)](n[i(317)][i(222)],this[i(288)]),document.addEventListener(n.InputEventTypes[i(210)],this[i(245)]),s()};["keyUpEvent"]=e=>{const s=h;if(this.handles[n[s(317)][s(275)]]){this[s(204)][n.InputEventTypes.KEY_UP][s(219)]((t,e)=>t[s(220)]-e[s(220)]);for(let t=0;t<this[s(204)][n[s(317)][s(275)]][s(192)];t++)if(this[s(204)][n[s(317)].KEY_UP][t][s(311)](e))break}};[h(291)]=e=>{const s=h;if(this.handles[n[s(317)][s(176)]]){this[s(204)][n[s(317)][s(176)]][s(219)]((t,e)=>t.priority-e[s(220)]);for(let t=0;t<this[s(204)][n[s(317)][s(176)]][s(192)];t++)if(this.handles[n[s(317)][s(176)]][t][s(311)](e))break}};["mouseMoveEvent"]=t=>{var e=h;this[e(188)](t,n[e(317)].MOUSE_MOVE)};[h(184)]=t=>{var e=h;switch(t[e(246)]){case 0:this[e(188)](t,n[e(317)][e(321)]);break;case 1:this[e(188)](t,n[e(317)][e(266)]);break;case 2:this[e(188)](t,n[e(317)][e(272)])}};[h(262)]=t=>{var e=h;switch(t[e(246)]){case 0:this.handleMouseEvent(t,n[e(317)][e(181)]);break;case 1:this[e(188)](t,n[e(317)].CENTER_MOUSE_CLICK);break;case 2:this[e(188)](t,n[e(317)][e(320)])}};[h(264)]=t=>{var e=h;this[e(241)](t,n.InputEventTypes[e(221)])};[h(185)]=t=>{var e=h;this[e(241)](t,n[e(317)][e(315)])};[h(295)]=t=>{var e=h;0<t[e(286)]?this[e(188)](t,n[e(317)][e(195)]):this.handleMouseEvent(t,n.InputEventTypes[e(228)])};[h(308)]=t=>{var e=h;1===t[e(281)].length?(this[e(214)]=t.touches[0][e(278)],this[e(239)]=t[e(281)][0].clientY):2===t[e(281)][e(192)]&&(this[e(304)]=calculateDistance(t[e(281)][0],t[e(281)][1]),this[e(276)][e(292)]=calculateAngle(t[e(281)][0],t.touches[1])),this[e(318)](t,n[e(317)][e(323)])};["touchMoveEvent"]=t=>{var e,s,i=h;2===t[i(281)].length&&(null!==this[i(304)]&&(e=calculateDistance(t[i(281)][0],t[i(281)][1]),Math[i(191)](e-this.initialDistance)>this[i(244)])&&(e>this[i(304)]?this[i(194)](t,n[i(317)].EXPAND):this[i(194)](t,n[i(317)].PINCH),this[i(304)]=e),null!==this[i(292)])&&(s=(e=calculateAngle(t[i(281)][0],t[i(281)][1]))-this[i(292)],this[i(215)](t,n[i(317)][i(302)],s),this[i(292)]=e),this.handleTouchEvent(t,n[i(317)].TOUCH_MOVE)};[h(260)]=e=>{const s=h;var t,i;0===e[s(281)][s(192)]&&null===this.initialDistance&&null===this.initialAngle&&(null!==this[s(282)]?(clearTimeout(this[s(282)]),this[s(282)]=null,this.handleTapEvent(e,n[s(317)].DOUBLE_TAP)):this.tapTimeout=setTimeout(()=>{const t=s;this[t(277)](e,n[t(317)][t(255)]),this[t(282)]=setTimeout(()=>{this[t(282)]=null},this[t(187)])},this[s(252)])),null!==this[s(214)]&&null!==this[s(239)]&&(t=(i=e.changedTouches[0]).clientX-this[s(214)],i=i.clientY-this[s(239)],Math[s(191)](t)>Math[s(191)](i))&&Math.abs(t)>this[s(276)][s(203)]&&(0<t?this[s(178)](e,n.InputEventTypes.SWIP_RIGHT):this.handleSwipeEvent(e,n[s(317)][s(251)])),this[s(214)]=null,this.swipeStartT=null,this.initialDistance=null,this[s(292)]=null,this[s(318)](e,n[s(317)][s(182)])};[h(283)]=t=>{var e=h;this[e(318)](t,n.InputEventTypes[e(242)])};[h(284)]=t=>{var e=h;this[e(202)](t,n[e(317)].DEVICE_ORIENTATION)};[h(288)]=t=>{var e,s,i=h;this.handleDeviceEvent(t,n.InputEventTypes[i(222)]),t[i(199)]&&({x:t,y:e,z:s}=t[i(199)],Math.sqrt(t*t+e*e+s*s)>this[i(268)])&&Date[i(271)]()-this[i(261)]>this.shakeTimeout&&(this[i(261)]=Date[i(271)](),this.handleShakeEvent())};[h(245)]=()=>{var t=document.hidden;this.handleVisibilityChange(t)};[h(241)]=(e,s)=>{const i=h;if(this[i(204)][s]){this.handles[s][i(219)]((t,e)=>t.priority-e[i(220)]);for(let t=0;t<this[i(204)][s][i(192)];t++)if(this[i(204)][s][t][i(311)](e))break}};[h(188)]=(e,s)=>{const i=h;if(this[i(204)][s]){this[i(204)][s][i(219)]((t,e)=>t[i(220)]-e[i(220)]);for(let t=0;t<this[i(204)][s][i(192)];t++){var r=this[i(204)][s][t];if(r[i(235)]&&(e[i(278)]<r.region.x1||e[i(278)]>r[i(235)].x2||e[i(301)]<r[i(235)].y1||e[i(301)]>r.region.y2))s==n[i(317)][i(270)]&&r[i(265)]&&(r.isOver=!1,this[i(241)](e,n[i(317)][i(243)])),s==n[i(317)][i(181)]&&(r[i(265)]=!1,this[i(241)](e,n.InputEventTypes[i(238)]));else if(s!=n[i(317)].MOUSE_MOVE||r[i(265)]||(r[i(265)]=!0,this[i(241)](e,n[i(317)][i(237)])),r[i(311)](e))break}}};["handleTouchEvent"]=(s,i)=>{const r=h;if(this[r(204)][i]){this[r(204)][i].sort((t,e)=>t[r(220)]-e[r(220)]);for(let t=0;t<this[r(204)][i][r(192)];t++){var n=this[r(204)][i][t];let e=!1;for(let t=0;t<s[r(281)].length;t++){var a=s[r(281)][t];if(a[r(278)]>=n[r(235)].x1&&a.clientX<=n[r(235)].x2&&a[r(301)]>=n[r(235)].y1&&a[r(301)]<=n.region.y2){e=!0;break}}if(e)if(n[r(311)](s))break}}};[h(277)]=(e,s)=>{const i=h;if(this.handles[s]){this[i(204)][s][i(219)]((t,e)=>t[i(220)]-e[i(220)]);for(let t=0;t<this[i(204)][s][i(192)];t++){var r=this[i(204)][s][t];if(r[i(235)]&&(e[i(278)]<r[i(235)].x1||e[i(278)]>r[i(235)].x2||e[i(301)]<r[i(235)].y1||e.clientY>r[i(235)].y2))s==n[i(317)].TAP&&(r[i(265)]=!1,this[i(241)](e,n[i(317)][i(269)]));else if(r[i(311)](e))break}}};[h(178)]=(e,s)=>{const i=h;if(this[i(204)][s]){this[i(204)][s][i(219)]((t,e)=>t[i(220)]-e[i(220)]);for(let t=0;t<this.handles[s][i(192)];t++){var r=this.handles[s][t];if(!r[i(235)]||!(e[i(278)]<r[i(235)].x1||e.clientX>r[i(235)].x2||e[i(301)]<r.region.y1||e.clientY>r[i(235)].y2))if(r.eventHandler(e))break}}};[h(194)]=(e,s)=>{const i=h;if(this.handles[s]){this.handles[s].sort((t,e)=>t.priority-e[i(220)]);for(let t=0;t<this[i(204)][s][i(192)];t++){var r=this[i(204)][s][t];if(!r[i(235)]||!(e[i(278)]<r[i(235)].x1||e[i(278)]>r[i(235)].x2||e[i(301)]<r[i(235)].y1||e.clientY>r[i(235)].y2))if(r[i(311)](e))break}}};["handleRotationEvent"]=(e,s,i)=>{const r=h;if(this[r(204)][s]){this[r(204)][s][r(219)]((t,e)=>t.priority-e[r(220)]);for(let t=0;t<this[r(204)][s].length;t++){var n=this[r(204)][s][t];if(!n.region||!(e[r(278)]<n[r(235)].x1||e[r(278)]>n[r(235)].x2||e[r(301)]<n.region.y1||e[r(301)]>n[r(235)].y2))if(n[r(311)](e,i))break}}};["handleDeviceEvent"]=(e,s)=>{const i=h;if(this[i(204)][s]){this[i(204)][s][i(219)]((t,e)=>t.priority-e[i(220)]);for(let t=0;t<this.handles[s][i(192)];t++)if(this[i(204)][s][t][i(311)](e))break}};[h(212)]=()=>{const s=h;if(this[s(204)][n[s(317)][s(285)]]){this[s(204)][n[s(317)][s(285)]][s(219)]((t,e)=>t[s(220)]-e[s(220)]);for(let t=0;t<this.handles[n[s(317)][s(285)]][s(192)];t++)if(this[s(204)][n.InputEventTypes[s(285)]][t][s(311)]())break}};["handleVisibilityChange"]=e=>{const s=h;if(this.handles[n[s(317)].VISIBILITY_CHANGE]){this[s(204)][n[s(317)].VISIBILITY_CHANGE][s(219)]((t,e)=>t.priority-e[s(220)]);for(let t=0;t<this[s(204)][n[s(317)][s(210)]][s(192)];t++)if(this[s(204)][n[s(317)][s(210)]][t][s(311)]({hidden:e}))break}};[h(227)]=(t,e,s,i=100,r=null)=>{var n=h,e=(this[n(204)][t]||(this[n(204)][t]=[]),{source:e,eventHandler:s,priority:i||0,isOver:!1,region:r});return this[n(204)][t].push(e),e};[h(180)]=e=>{const s=h;for(const t in this[s(204)])this.handles[s(229)](t)&&(this[s(204)][t]=this[s(204)][t][s(267)](t=>t[s(289)]!==e))};[h(236)]=t=>{this.handles={}};[h(298)]=(t,e)=>{var s=h,i=e[s(278)]-t[s(278)],e=e[s(301)]-t[s(301)];return Math[s(296)](i*i+e*e)};[h(303)]=(t,e)=>{var s=h,i=e[s(278)]-t[s(278)],e=e[s(301)]-t[s(301)];return Math[s(287)](e,i)}}return{Ext:new t}})(),t[e(198)].IO={Input:{EventType:n[e(317)],attach:n[e(309)].Ext[e(227)],release:n[e(309)][e(247)][e(180)],clear:n.Inputs[e(247)][e(236)]},loadJSON:n.IO[e(294)]}})(typeof window!==_0x5ca129(306)?window:global);const _0x3c3c91=_0x10e4;function _0x10e4(t,e){const s=_0x5d24();return(_0x10e4=function(t,e){return t-=254,s[t]})(t,e)}function _0x5d24(){const t=["delete","21895728kGpNeI","activeAudios","has","Application","getAudioElement","path","get","6221770uNxQXO","pause","forEach","preloadAudio","130196JbCxUF","getAudio","playAudio","1546926jejncE","1783628LFhLAk","20168RbdzEV","4931964zWzgRO","stopAllAudios","volume","play","undefined","loop","Assets","Audio","Ext","currentTime","stopAudio","audioCache","162GkNFmO"];return(_0x5d24=function(){return t})()}(function(){for(var t=_0x10e4,e=_0x5d24();;)try{if(670944==-parseInt(t(269))+parseInt(t(274))/2*(parseInt(t(256))/3)+-parseInt(t(275))/4+-parseInt(t(265))/5+-parseInt(t(272))/6+parseInt(t(273))/7+parseInt(t(258))/8)break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(t=>{const e=_0x10e4,s={};s[e(282)]=(()=>{const r=e;class t extends $1S[r(261)].ExtensionType{[r(255)]=new Map;[r(259)]=new Set;constructor(){super(0)}["onLoad"]=(t,e,s)=>{s()};[r(271)]=(t,e=!1,s=1)=>{var i=r,t=$1S[i(281)].getAudio(t);null!=t&&(t=t[i(263)],t=this[i(262)](t),this.activeAudios[i(260)](t)?t[i(284)]=0:this.activeAudios.add(t),e&&(t[i(280)]=!0),1!==s&&(t[i(277)]=s),t[i(278)]())};[r(254)]=t=>{var e=r,t=$1S[e(281)][e(270)](t);null!=t&&(t=t.path,t=this[e(255)][e(264)](t))&&this[e(259)][e(260)](t)&&(t.pause(),t[e(284)]=0,this[e(259)][e(257)](t))};[r(276)]=()=>{const s=r;this[s(259)][s(267)](t=>{var e=s;t[e(266)](),t[e(284)]=0,this[e(259)].delete(t)})};[r(268)]=t=>{this[r(262)](t)};[r(262)]=t=>{var e,s=r;return this[s(255)][s(260)](t)?this[s(255)][s(264)](t):(e=new Audio(t),this[s(255)].set(t,e),e)}}return{Ext:new t}})(),t.$1S[e(282)]={preload:s[e(282)].Ext[e(268)],play:s[e(282)][e(283)][e(271)],stop:s.Audio[e(283)].stopAudio,stopAll:s[e(282)][e(283)][e(276)]}})(typeof window!==_0x3c3c91(279)?window:global);const _0x5297c4=_0x3c0c;function _0x4343(){const t=["adjustSize","screenHeight","ByPriority","getState","raiseHideStageEvent","1305648dpgLlc","onResize","onLoad","canvas","stagesNames","Assets","Center","loadImage","getActiveName","exitFullscreen","onShowStage","Stage not found: ","spriteLoop","getImage","getContext","framesPerSecond","onDestroy","rotation","Graphics","translate","height","SpritePropType","SortByEnum","Not a StageType.","raiseDisposeEvent","initialize","sortBy","undefined","show","onload","msExitFullscreen","UpperRight","getRegion","innerHeight","raiseRenderEvent","setState","lastFrameUpdateTime","Application","Stage not found.","sort","onHideStage","webkitExitFullscreen","getTileset","onPostDraw","An image is required."," not found.","save","getElementById","setFullScreen","compare","raiseResizeEvent","src","width","frameStart","onInit","innerWidth","77TzglcD","msRequestFullscreen","register","SortByTypes","tiles","$1S","raiseShowStageEvent","stages","imageName","Sprite image ","fullWindow","restore","756390PnvhGs","webkitRequestFullscreen","onDispose","frameTime","name","drawImage","setRenderSort","Renderer","createElement","alignOn","addEventListener","Ext","registerProp","renderedFrame","resize","sortOnRender","clearRect","Stage already defined.","sizeChange","TilesetPropType","isVisible","Layout name invalid.","stageProps","LowerLeft","11890lVzABA","layoutName","keys","AlignOn","Type","activeLoop","109808iKTQyQ","loadGroup","rotate","ExtensionType","AlignOnEnum","getSize","clearProps","render","SavedState","CanvasContext","Sprite group ","onTick","onDraw","27942AitODw","publish","Invalid stage name.","10FsJPun","reset","push","activeStageName","length","screenWidth","hide","handleTickEvent","workCanvas","get","Canvas","A sprite group is required.","groupName","frameRate","getStyle","newId","findIndex","Instance","workContext","raiseTickEvent","clipPaths","ByDepth","UpperLeft","StagePropType","frame","Not a StagePropType component.","destroy","isShown","Priority","495396LPisyZ","168222ELMuAR","LowerRight","toDataURL"];return(_0x4343=function(){return t})()}function _0x3c0c(t,e){const s=_0x4343();return(_0x3c0c=function(t,e){return t-=324,s[t]})(t,e)}function _0x2dd0(){const t=["filter","Helper","Instance","newId","get","rotation","getPhysicsModifier","No PhysicsBoundType target provided.","$1S","Type","Types","Priority","cos","width","handlePostTickEvent","3915312pBgykD","Renderer","sort","moveUpStop","getCollisionModifier","collisionModifiers","abs","Physics","105zLtKTL","moveRightStop","destroyCollisionModifier","frictionCoefficient","length","doLinesIntersect","BounceModifier","raiseTickEvent","mass","raiseCollisionCommitEvent","ThrustModifer","BounceCollision","Application","88252oUiqNn","forward","bounceReduction","GravitationalAttractionModifier","map","271771iLLufQ","red","stageProps","push","gravity","lineWidth","moveTo","moveBackwardStop","raiseRenderEvent","physicsModifiers","EnvironmentalGravityModifier","moveLeftStop","raiseCollisionEvent","StagePropType","destroyPhysicsModifier","createCollisionBorderBox","height","log","find","PhysicsBoundType","collisionBorder","1158227FbEQmj","lineTo","onTick not implemented.","648729eLkRJc","target","stroke","atan2","active","moveForwardStop","onCollision","onTick","beginPath","acceleration","speedCap","vectorX2","detectCollisions","onLoad","givesCollisions","backward","Ext","doPolygonsIntersect","thrust","moveDownStop","createCollisionBorderHexagon","vectorY","Collisions","isPointInsidePolygon","findIndex","moveBackwardStart","rotationSpeed","right","onDestroy","Debug","registerPhysicsModifier","isAccelerating","rotationSpeed2","direction","vectorX","6zbeTgx","onResize","raiseResizeEvent","384380khcLGP","ExtensionType","takesCollisions","110010bbVWSw","moveUpStart","splice","clearPhysicsModifiers","sqrt","thrusts","down","left","collisions","sin","onInit","vectorY2","gravityConstant","getAbsoluteBorder","registerCollisionModifier"];return(_0x2dd0=function(){return t})()}function _0x1491(t,e){const s=_0x2dd0();return(_0x1491=function(t,e){return t-=454,s[t]})(t,e)}(function(){for(var t=_0x3c0c,e=_0x4343();;)try{if(151087==-parseInt(t(397))*(-parseInt(t(375))/2)+parseInt(t(427))/3+parseInt(t(381))/4+-parseInt(t(351))/5+parseInt(t(394))/6*(parseInt(t(339))/7)+parseInt(t(435))/8+-parseInt(t(426))/9)break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(t=>{const d=_0x3c0c,u={};u[d(358)]=(()=>{const a=d,r={Center:0,UpperLeft:1,UpperRight:2,LowerLeft:3,LowerRight:4},s={ByPriority:0,ByDepth:1},t={ByPriority:{sortOnRegister:!0,sortOnRender:!1,compare:function(t,e){var s=_0x3c0c;return t.Priority-e[s(425)]}},ByDepth:{sortOnRegister:!0,sortOnRender:!0,compare:function(t,e){var s=_0x3c0c;return t[s(414)].z-e[s(414)].z}}};class e{constructor(t=0){var e=_0x3c0c;this.id=$1S.Helper[e(412)](),this.stageProps=[],this[e(461)]?this[e(357)](this.sortBy):this.setRenderSort(s[e(432)])}[a(357)]=t=>{var e=a;t==s[e(432)]&&(this[e(461)]=u.Renderer.SortByTypes[e(432)]),t==s[e(418)]&&(this.sortBy=u[e(358)][e(342)].ByDepth)};["registerProp"]=(t,e={},s=1e5)=>{var i=a;if(t instanceof n)return t={Instance:t,Properties:e,Priority:s},this[i(373)][i(399)](t),this[i(461)].sortOnRegister&&this.stageProps[i(474)](this.sortBy[i(332)]),this.registerProp;throw new Error(i(422))};["getProp"]=e=>{const s=a,t=this[s(373)].find(t=>t[s(414)].id===e);return t?t[s(414)]:null};["destroyProp"]=e=>{var t=a,s=this[t(373)][t(413)](t=>t.Instance.id===e);return-1!==s&&(this[t(373)][s][t(451)]&&this[t(373)][s][t(451)](),this[t(373)].splice(s,1),!0)};[a(387)]=()=>{for(var t=a,e=0;e<this[t(373)].length;e++)this[t(373)][e][t(451)]&&this[t(373)][e].onDestroy();this[t(373)][e]=[]};[a(416)](t,e){var s=a;this[s(392)]&&this[s(392)](t,e);for(var i=0;i<this.stageProps[s(401)];i++)this[s(373)][i][s(414)][s(416)](t,e)}["raiseRenderEvent"](t){var e=a;if(this[e(393)]&&this.onDraw(t),0<this[e(373)][e(401)]){this[e(461)][e(366)]&&this.stageProps[e(474)](this[e(461)][e(332)]);for(var s=0;s<this[e(373)][e(401)];s++)this[e(373)][s][e(414)].raiseRenderEvent&&this[e(373)][s][e(414)][e(469)](t)}this[e(326)]&&this[e(326)](t)}[a(333)](t,e){var s=a;this.onResize&&this[s(436)](t,e);for(var i=0;i<this[s(373)][s(401)];i++)this.stageProps[i].Instance[s(333)](this[s(335)],this[s(455)])}[a(459)](){var t=a;if(0<this[t(373)][t(401)])for(var e=0;e<this.stageProps[t(401)];e++)this.stageProps[e][t(414)][t(459)]&&this[t(373)][e][t(414)].raiseDisposeEvent();this.onDispose&&this[t(353)]()}[a(345)](){var t=a;if(0<this.stageProps[t(401)])for(var e=0;e<this.stageProps[t(401)];e++)this[t(373)][e][t(414)][t(345)]&&this[t(373)][e].Instance[t(345)]();this[t(445)]&&this.onShowStage()}["raiseHideStageEvent"](){var t=a;if(0<this[t(373)][t(401)])for(var e=0;e<this[t(373)][t(401)];e++)this[t(373)][e][t(414)][t(434)]&&this[t(373)][e][t(414)].raiseHideStageEvent();this[t(475)]&&this.onHideStage()}}class i extends e{constructor(t,e={}){var s=a,i=(super(),$1S[s(358)].Graphics[s(386)]());this[s(335)]=i[s(335)],this.height=i[s(455)],this[s(355)]=t,$1S[s(358)].register(t,this),this[s(337)]&&this[s(337)](e)}[a(469)]=t=>{var e=a;t[e(367)](0,0,this[e(335)],this[e(455)]),super[e(469)](t),$1S[e(358)].Graphics.publish()};[a(333)](t,e){var s=a;this[s(335)]=t,this.height=e,super[s(333)](t,e)}}class n extends e{constructor(t={},e=!1){var s=a,i=(super(),this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this[s(335)]=t.width||100,this[s(455)]=t[s(455)]||100,this[s(452)]=t[s(452)]||0,this[s(371)]=t[s(424)]||!0,this[s(360)]=t[s(360)]||r[s(441)],$1S[s(358)][s(453)][s(386)]());this[s(402)]=i[s(335)],this[s(431)]=i[s(455)],this[s(405)]=document[s(359)]("canvas"),this[s(405)][s(335)]=this[s(335)],this.workCanvas.height=this[s(455)],this[s(415)]=this.workCanvas[s(449)]("2d"),!e&&this[s(337)]&&this.onInit(t)}[a(467)](){var t=a;switch(this[t(360)]){case r[t(441)]:return{x1:this.x-this[t(335)]/2,y1:this.y-this.height/2,x2:this.x+this[t(335)]/2,y2:this.y+this.height/2};case r.UpperLeft:return{x1:this.x,y1:this.y,x2:this.x+this.width,y2:this.y+this[t(455)]};case r.UpperRight:return{x1:this.x-this.width,y1:this.y,x2:this.x,y2:this.y+this.height};case r[t(374)]:return{x1:this.x,y1:this.y-this[t(455)],x2:this.x+this[t(335)],y2:this.y};case r.LowerRight:return{x1:this.x-this.width,y1:this.y-this[t(455)],x2:this.x,y2:this.y};default:return{x1:this.x,y1:this.y,x2:this.x+this[t(335)],y2:this.y+this[t(455)]}}}["show"](){this[a(371)]=!0}[a(403)](){this[a(371)]=!1}[a(469)]=t=>{var e=a;if(this.isVisible){if(null==t)throw new Error("Canvas context is missing.");if(this[e(393)]&&this[e(393)](this[e(415)]),super[e(469)](this[e(415)]),this.onPostDraw&&this[e(326)](this[e(415)]),0!=this[e(452)]){var s=Math.PI/180*this[e(452)];t[e(329)](),t[e(454)](this.x,this.y),t[e(383)](s),t[e(454)](-this[e(335)]/2,-this[e(455)]/2),t.drawImage(this[e(405)],0,0),t[e(350)]()}else switch(this.alignOn){case r[e(441)]:t[e(356)](this[e(405)],this.x-this.width/2,this.y-this[e(455)]/2);break;case r[e(419)]:t[e(356)](this[e(405)],this.x,this.y);break;case r[e(466)]:t[e(356)](this[e(405)],this.x,this.y-this[e(455)]);break;case r[e(374)]:t[e(356)](this.workCanvas,this.x-this[e(335)],this.y);break;case AlignOn[e(428)]:t[e(356)](this[e(405)],this.x-this[e(335)],this.y-this[e(455)]);break;default:t.drawImage(this[e(405)],this.x-this.width/2,this.y-this[e(455)]/2)}}}}class h extends n{constructor(t={}){var e=a;super(t),this[e(450)]=t.framesPerSecond||12,this[e(380)]=null,this.spriteLoop={},this.frame=t[e(336)]||0,this[e(450)]=t[e(450)]||12,this[e(354)]=1e3/this[e(450)],this[e(369)]=!1,this[e(364)]=-1,this[e(471)]=0,t[e(409)]&&this[e(382)](t.groupName),t[e(347)]&&this[e(442)](t.imageName,1)}[a(382)](t){var e=a;if(!t)throw new Error(e(408));var s=$1S.Assets.getSpriteLoop(t);if(!s)throw new Error(e(391)+t+e(328));this[e(430)](s),this.spriteLoop[t]=s,this.activeLoop||(this[e(380)]=s)}[a(442)](t,e){var s=a;if(!t)throw new Error(s(327));var i=$1S[s(440)][s(448)](t);if(!i)throw new Error(s(348)+t+" not found.");for(var r={group:t,clipPaths:[]},n=0;n<e;n++)r[s(417)].push({Canvas:i[s(407)],CanvasContext:i[s(390)]});this[s(430)](r),this[s(447)][t]=r,this[s(380)]||(this[s(380)]=r)}["adjustSize"](t){for(var e=a,s=!1,i=0;i<t.clipPaths[e(401)];i++)this[e(335)]<t[e(417)][i][e(407)][e(335)]&&(this[e(335)]=t[e(417)][i][e(407)][e(335)],s=!0),this[e(455)]<t[e(417)][i][e(407)][e(455)]&&(this[e(455)]=t[e(417)][i][e(407)][e(455)],s=!0);s&&(this[e(405)][e(335)]=this.width,this[e(405)][e(455)]=this[e(455)],this[e(415)]=this[e(405)].getContext("2d"))}[a(463)](t){var e=a,s=this[e(447)][t];s||(this[e(382)](t),s=this[e(447)][t]),this[e(421)]=0,this[e(380)]=s}["onTick"](t,e){var s=a;this.activeLoop&&this.isVisible&&1<this[s(380)][s(417)][s(401)]&&t-this[s(471)]>=this[s(354)]&&(this[s(471)]=t,this[s(421)]++,this[s(421)]>=this[s(380)].clipPaths.length)&&(this[s(421)]=0)}[a(393)](t){var e,s=a;this[s(380)]&&this.isVisible&&this[s(421)]!=this[s(364)]&&(e=this.activeLoop.clipPaths[this[s(421)]][s(407)],this[s(380)].clipPaths[this.frame].CanvasContext,t[s(367)](0,0,this.workCanvas.width,this[s(405)].height),t.drawImage(e,0,0),this[s(364)]=this[s(421)])}}class o extends n{constructor(t,e={}){var s=a;if(super(e),!t)throw new Error(s(372));this[s(376)]=t,this[s(343)]=[],this[s(460)]()}["initialize"](){var t=a,e=$1S[t(440)][t(325)](this.layoutName);if(!e)throw new Error("Layout "+layoutName+t(328));for(var s=0;s<e[t(343)].length;s++){var i=e[t(343)][s],i=new $1S[t(358)][t(379)].SpriteType({imageName:i[t(347)],groupName:i[t(409)],framesPerSecond:i[t(410)]||0,framesStart:i[t(336)]||0,x:i.x||0,y:i.y||0,alignOn:i.alignOn||$1S[t(358)][t(379)][t(378)][t(419)]});this[t(363)](i)}}}class c extends $1S[a(472)][a(384)]{[a(346)]={};["activeStageName"]=null;constructor(){super(0)}[a(437)]=(t,e,s)=>{var i=a;e[i(438)]&&u[i(453)][i(460)](e[i(438)],e[i(349)]),s()};[a(443)]=()=>{return this[a(400)]};[a(341)]=(t,e=null)=>{var s=a;if(!t)throw new Error(s(396));if(this[s(346)][t])throw new Error(s(368));if(null==e||!(e instanceof i))throw new Error(s(458));this[s(346)][t]={Name:t,Instance:e,SavedState:null}};[a(333)]=(t,e)=>{var s,i=a;null!=this[i(400)]&&(s=this[i(346)][this.activeStageName])&&s[i(414)][i(333)](t,e)};[a(469)]=()=>{var t,e,s=a;null!=this.activeStageName&&(t=this[s(346)][this[s(400)]])&&(e=$1S[s(358)][s(453)][s(449)](),t[s(414)][s(469)](e))};[a(406)]=()=>{var t=a,e=null;return e=null!=this[t(400)]?this[t(346)][this[t(400)]]:e};[a(423)]=(t=null)=>{var e=a,s=(t=t||this[e(400)],this[e(400)]===t&&(this.stages[this[e(400)]].raiseHideStageEvent(),this[e(400)]=null),this[e(346)][t]);if(!s)throw new Error(e(473));s[e(459)](),s.clearProps(),delete this.stages[t]};["switchTo"]=t=>{var e=a;if(null!=this[e(400)]&&(this[e(346)][this[e(400)]][e(414)][e(434)](),this[e(346)][this.activeStageName].SavedState=$1S.Renderer.Graphics[e(433)]()),null==t)this[e(400)]=null;else{if(!this[e(346)][t])throw new Error(e(446)+t);this[e(400)]=t,null!=this[e(346)][this[e(400)]][e(389)]&&this.stages[this[e(400)]].SavedState&&$1S[e(358)][e(453)][e(470)](this[e(346)][this[e(400)]][e(389)]),this[e(346)][this[e(400)]][e(414)][e(345)]()}};[a(404)]=(t,e)=>{var s=a;this[s(400)]&&this.stages[this[s(400)]][s(414)][s(416)](t,e)};["handlePostTickEvent"]=(t,e)=>{this[a(469)]()};[a(398)]=()=>{for(var t=a,e=Object[t(377)](this.stages),s=0;s<this[t(439)].length;s++)destroy(e[s]);this[t(346)]={},this.activeStageName=null}}var l=new c;return{AlignOnEnum:r,StageType:i,SortByEnum:s,SortByTypes:t,StagePropType:n,SpritePropType:h,TilesetPropType:o,Ext:l}})(),u[d(453)]=(()=>{let i=null,r=null,n=null,a=null,h=!1;return{initialize:(t,e)=>{const s=_0x3c0c;i=document[s(330)](t),e&&(h=!0,i[s(335)]=window[s(338)],i[s(455)]=window[s(468)]),r=i.getContext("2d"),(n=document[s(359)](s(438)))[s(335)]=i.width,n[s(455)]=i.height,a=n[s(449)]("2d"),window[s(361)](s(365),()=>{var t=s;h&&(i[t(335)]=window[t(338)],i[t(455)]=window[t(468)],r=i.getContext("2d"),(n=document.createElement(t(438))).width=i[t(335)],n[t(455)]=i[t(455)],a=n[t(449)]("2d")),r=i.getContext("2d"),(n=document.createElement(t(438)))[t(335)]=i[t(335)],n[t(455)]=i[t(455)],a=n[t(449)]("2d"),u[t(358)].Ext.raiseResizeEvent(i[t(335)],i[t(455)])})},setFullScreen:t=>{var e=_0x3c0c;if(t)i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i[e(352)]():i.msRequestFullscreen&&i[e(340)](),i[e(335)]=screen[e(335)],i[e(455)]=screen[e(455)],r=i[e(449)]("2d"),(n=document.createElement(e(438)))[e(335)]=i[e(335)],n.height=i.height;else{try{document[e(444)]?document.exitFullscreen():document[e(324)]?document.webkitExitFullscreen():document[e(465)]&&document[e(465)]()}catch{}i.width=originalWidth,i.height=originalHeight,r=i[e(449)]("2d"),(n=document[e(359)]("canvas"))[e(335)]=i.width,n.height=i[e(455)]}a=n.getContext("2d")},getContext:()=>a,publish:()=>{var t=_0x3c0c;r[t(367)](0,0,i.width,i[t(455)]),r[t(356)](n,0,0)},getState:()=>{var t=_0x3c0c;return i[t(429)]()},setState:t=>{const e=_0x3c0c,s=(r[e(367)](0,0,i.width,i[e(455)]),new Image);s[e(464)]=function(){var t=e;r[t(356)](s,0,0)},s[e(334)]=t},getStyle:()=>i.style,getSize:()=>{var t=_0x3c0c;return{width:i[t(335)],height:i[t(455)]}}}})(),t[d(344)][d(358)]={Type:{AlignOn:u[d(358)][d(385)],SortBy:u[d(358)][d(457)],StageType:u[d(358)].StageType,StagePropType:u[d(358)][d(420)],SpriteType:u[d(358)][d(456)],TilesetType:u[d(358)][d(370)]},Graphics:{setState:u[d(453)].setState,getState:u[d(453)][d(433)],getContext:u.Graphics.getContext,getSize:u[d(453)][d(386)],getStyle:u[d(453)][d(411)],publish:u.Graphics[d(395)],setFullScreen:u.Graphics[d(331)]},register:u[d(358)].Ext[d(341)],render:u.Renderer[d(362)][d(388)],destroy:u[d(358)].Ext[d(423)],get:u[d(358)][d(362)][d(406)],getActiveName:u.Renderer[d(362)][d(443)],switchTo:u[d(358)].Ext.switchTo}})(typeof window!==_0x5297c4(462)?window:global),function(){for(var t=_0x1491,e=_0x2dd0();;)try{if(361234==-parseInt(t(474))+-parseInt(t(536))/2+-parseInt(t(533))/3*(-parseInt(t(469))/4)+-parseInt(t(456))/5*(-parseInt(t(539))/6)+-parseInt(t(495))/7+parseInt(t(569))/8+parseInt(t(498))/9)break;e.push(e.shift())}catch(t){e.push(e.shift())}}(),(t=>{const x=_0x1491,v={};v[x(527)]=!0,v[x(455)]=(()=>{const l=x;class r{constructor(t,e={}){var s=_0x1491;if(!(t instanceof d))throw new Error(s(561));this.id=$1S[s(555)][s(557)](),this[s(499)]=t,this[s(549)]&&this.onInit(e)}[l(505)](t,e){var s=l;throw new Error(s(497))}}class n{constructor(t,e){var s=l;if(!(t instanceof d))throw new Error("No PhysicsBoundType target provided.");this.id=$1S[s(555)].newId(),this[s(499)]=t,this.onInit&&this[s(549)](e)}[l(504)](t){throw new Error("onCollision not defined.")}}class d extends $1S.Renderer[l(563)][l(487)]{constructor(t={}){var e=l;super(t,!0),this[e(532)]=t[e(532)]||0,this.vectorY=t[e(519)]||0,this[e(524)]=t.rotationSpeed||0,this[e(509)]=t[e(532)]||0,this[e(550)]=t[e(519)]||0,this[e(530)]=t[e(524)]||0,this.mass=t.mass||1,this.takesCollisions=t[e(538)]||!1,this[e(512)]=t[e(512)]||!1,this[e(494)]=t[e(494)]||[],this[e(483)]=[],this[e(574)]=[],this[e(547)]=[],this[e(549)]&&this[e(549)](t)}[l(528)]=(t,e=100)=>{const s=l;if(!(t instanceof r))throw new Error("Not a PhysicsModifierType component.");this[s(483)].push({Instance:t,Priority:e}),this[s(483)][s(571)]((t,e)=>t[s(565)]-e[s(565)])};[l(560)]=e=>{const s=l,t=this.physicsModifiers[s(492)](t=>t[s(556)].id===e);return t?t[s(556)]:null};[l(488)]=e=>{const s=l,t=this[s(483)][s(522)](t=>t[s(556)].id===e);return-1!==t&&(this[s(483)][i][s(526)]&&this[s(483)][i][s(526)](),this[s(483)].splice(t,1),!0)};[l(542)]=()=>{for(var t=l,e=0;e<this[t(483)][t(460)];e++)this[t(483)][e].onDestroy&&this.physicsModifiers[e][t(526)]();this[t(483)][e]=[]};[l(553)]=(t,e=100)=>{const s=l;if(!(t instanceof n))throw new Error("Not a CollisionModifierType component.");this[s(574)][s(477)]({Instance:t,Priority:e}),this[s(574)][s(571)]((t,e)=>t[s(565)]-e.Priority)};[l(573)]=e=>{const s=l,t=this[s(574)][s(492)](t=>t[s(556)].id===e);return t?t.Instance:null};[l(458)]=e=>{var t=l,s=this[t(574)].findIndex(t=>t.Instance.id===e);return-1!==s&&(this[t(574)][i][t(526)]&&this.collisionModifiers[i][t(526)](),this[t(574)][t(541)](s,1),!0)};["clearCollisionModifiers"]=()=>{for(var t=l,e=0;e<this[t(574)][t(460)];e++)this[t(574)][e][t(526)]&&this[t(574)][e][t(526)]();this.collisionModifiers[e]=[]};[l(463)](t,e){var s=l;super[s(463)](t,e);for(var i=0;i<this[s(483)][s(460)];i++)this.physicsModifiers[i][s(556)][s(505)](t,e);this.x+=this[s(532)]*e,this.y+=this.vectorY*e,this[s(559)]+=this.rotationSpeed*e}[l(535)]=(t,e)=>{var s=l;super[s(535)](t,e);for(var i=0;i<this[s(483)][s(460)];i++)this[s(483)][i][s(534)]&&this[s(483)][i][s(556)][s(534)](t,e)};["raiseCollisionEvent"](t){var e=l;this[e(504)]&&this[e(504)](t),this[e(509)]=this.vectorX,this[e(550)]=this[e(519)],this.rotationSpeed2=this[e(524)];for(var s=0;s<this[e(574)][e(460)];s++)this[e(574)][s][e(556)][e(504)](t);for(s=0;s<this[e(476)][e(460)];s++)this[e(476)][s].Instance[e(486)]&&this[e(476)][s][e(556)][e(486)](t)}[l(465)](){var t=l;this[t(532)]=this[t(509)],this[t(519)]=this[t(550)],this[t(524)]=this[t(530)];for(var e=0;e<this[t(476)].length;e++)stageProps[e][t(556)][t(465)]&&this[t(476)][e][t(556)][t(465)](collisionObjects)}[l(482)](e=null){var s=l;if(v[s(527)]&&this.collisionBorder){var i=$1S.Physics[s(520)][s(552)](this.x,this.y,this[s(494)]);e.strokeStyle=s(475),e[s(479)]=1,e[s(506)](),e[s(480)](i[0].x,i[0].y);for(let t=1;t<i[s(460)];t++)e[s(496)](i[t].x,i[t].y);e.closePath(),e[s(500)]()}super[s(482)](e)}}class t extends r{["onInit"](t){var e=l;this[e(516)]=t[e(507)],this[e(508)]=t.speedCap,this[e(544)]={up:!1,down:!1,left:!1,right:!1,forward:!1,backward:!1}}[l(529)](){var t=l;return this.thrusts.up||this[t(544)][t(545)]||this[t(544)][t(546)]||this[t(544)].right||this[t(544)][t(470)]||this[t(544)][t(513)]}["moveForwardStart"](){var t=l;this.thrusts[t(470)]=!0}[l(523)](){this[l(544)].backward=!0}[l(540)](){this.thrusts.up=!0}["moveDownStart"](){var t=l;this.thrusts[t(545)]=!0}["moveLeftStart"](){var t=l;this[t(544)][t(546)]=!0}["moveRightStart"](){var t=l;this.thrusts[t(525)]=!0}[l(503)](){var t=l;this.thrusts[t(470)]=!1}[l(481)](){var t=l;this[t(544)][t(513)]=!1}[l(572)](){this.thrusts.up=!1}[l(517)](){this[l(544)].down=!1}[l(485)](){var t=l;this[t(544)][t(546)]=!1}[l(457)](){this.thrusts.right=!1}[l(505)](t,e){var s,i,r=l;let n=0;this[r(544)].up&&n++,this[r(544)][r(545)]&&n++,this[r(544)].left&&n++,this[r(544)].right&&n++,this[r(544)][r(470)]&&n++,this[r(544)][r(513)]&&n++,0<n&&(s=this.thrust/n,this[r(544)].up&&(this.target[r(519)]-=s),this[r(544)][r(545)]&&(this[r(499)][r(519)]+=s),this[r(544)][r(546)]&&(this[r(499)][r(532)]-=s),this[r(544)][r(525)]&&(this[r(499)][r(532)]+=s),this[r(544)].forward&&(i=this[r(499)][r(559)]*(Math.PI/180),this[r(499)][r(532)]+=s*Math[r(566)](i),this[r(499)][r(519)]+=s*Math[r(548)](i)),this[r(544)][r(513)]&&(i=this[r(499)].rotation*(Math.PI/180),this[r(499)][r(532)]-=s*Math.cos(i),this.target[r(519)]-=s*Math[r(548)](i)),0<this[r(508)])&&(s=Math[r(543)](this.target[r(532)]**2+this[r(499)][r(519)]**2))>this.speedCap&&(i=this[r(508)]/s,this[r(499)][r(532)]*=i,this[r(499)][r(519)]*=i)}}class e extends r{["onInit"](t){var e=l;this.friction=t[e(459)]}[l(505)](t,e){var s=l,i=0<this[s(499)][s(532)]?-1:1,r=0<this[s(499)][s(519)]?-1:1,i=Math[s(454)](this[s(499)].vectorX)*this.friction*e*i,e=Math[s(454)](this[s(499)].vectorY)*this.friction*e*r;Math[s(454)](i)>Math.abs(this[s(499)].vectorX)?this[s(499)][s(532)]=0:this[s(499)].vectorX+=i,Math[s(454)](e)>Math[s(454)](this.target[s(519)])?this[s(499)][s(519)]=0:this[s(499)][s(519)]+=e}}class s extends r{[l(549)](t){var e=l;this.gravity=t[e(478)],this[e(531)]=t[e(531)]}[l(505)](t,e){var s=l,i=this.direction.x*this[s(478)]*e,e=this[s(531)].y*this.gravity*e;this[s(499)].vectorX+=i,this[s(499)][s(519)]+=e}}class a extends r{[l(549)](t){var e=l;this[e(551)]=t[e(551)]}["onTick"](t,e){for(var s=l,i=$1S[s(570)][s(558)](),r=(console[s(491)](i),i[s(556)][s(476)]),n=0;n<r[s(460)];n++){var a,h,o,c=r[n][s(556)];c instanceof d&&(o=c[s(464)],a=c.x,h=c.y,c.id!==this[s(499)].id)&&(c=a-this.target.x,a=h-this[s(499)].y,0!=(h=Math[s(543)](c*c+a*a)))&&(c=(o=this[s(551)]*o/h)*c/h,o=o*a/h,this[s(499)][s(532)]+=c*e,this.target[s(519)]+=o*e)}}}class h extends r{[l(549)](t){var e=l;this[e(567)]=t[e(567)],this[e(490)]=t[e(490)],this[e(471)]=t[e(471)]}[l(505)](t,e){var s=l;this[s(499)].x-this[s(499)][s(567)]/2<0?(this.target.x=this[s(499)][s(567)]/2,this.target.vectorX=-this[s(499)][s(532)]):this[s(499)].x+this.target[s(567)]/2>this[s(567)]&&(this[s(499)].x=this.width-this.target[s(567)]/2,this.target.vectorX=-this.target[s(532)]),this[s(499)].y-this[s(499)][s(490)]/2<0?(this[s(499)].y=this[s(499)][s(490)]/2,this[s(499)][s(519)]=-this[s(499)][s(519)]):this[s(499)].y+this[s(499)][s(490)]/2>this.height&&(this[s(499)].y=this[s(490)]-this.target[s(490)]/2,this[s(499)][s(519)]=-this[s(499)][s(519)]+this[s(471)],0<this[s(499)].vectorY)&&(this[s(499)][s(519)]=0)}}class o extends r{["onInit"](t){var e=l;this[e(567)]=t.width,this.height=t[e(490)]}[l(505)](t,e){var s=l;this[s(499)].x<-this.target[s(567)]/2?this[s(499)].x=this[s(567)]+this[s(499)].width/2:this[s(499)].x>this.width+this[s(499)][s(567)]/2&&(this.target.x=-this[s(499)][s(567)]/2),this.target.y<-this[s(499)][s(490)]/2?this[s(499)].y=this.height+this[s(499)][s(490)]/2:this.target.y>this[s(490)]+this[s(499)][s(490)]/2&&(this.target.y=-this.target[s(490)]/2)}}(class{[r](){}});class c extends n{[l(504)](e){var s=l;for(let t=0;t<e[s(460)];t++){var i=e[t],r=this[s(499)][s(464)]+i[s(464)],n=(this[s(499)][s(464)]-i.mass)/r*this[s(499)].vectorX2+2*i[s(464)]/r*i[s(532)],r=(this[s(499)].mass-i[s(464)])/r*this[s(499)][s(550)]+2*i[s(464)]/r*i[s(519)];this[s(499)][s(509)]=n,this.target[s(550)]=r}}}class u extends $1S[l(468)][l(537)]{constructor(){super(0)}[l(511)]=(t,e,s)=>{s()};[l(568)]=(t,e)=>{this.detectCollisions()};[l(510)]=()=>{const e=l,t=$1S.Renderer[e(558)]();if(t){var s=[],i=t[e(556)][e(476)].filter(t=>t.Instance instanceof $1S[e(455)][e(564)][e(493)]&&t[e(556)].givesCollisions);for(const r of t[e(556)][e(476)][e(554)](t=>t.Instance instanceof $1S[e(455)].Types[e(493)]&&t[e(556)][e(538)])){const n=this[e(552)](r.Instance.x+r.Instance[e(567)]/2,r[e(556)].y+r[e(556)].height/2,r[e(556)][e(494)]),a=i[e(554)](t=>r.Instance.id!==t[e(556)].id)[e(554)](t=>this[e(515)](n,this[e(552)](t[e(556)].x+t[e(556)].width/2,t[e(556)].y+t.Instance[e(490)]/2,t.Instance[e(494)])))[e(473)](t=>t.Instance),h=a[e(554)](t=>!r[e(556)][e(547)].includes(t.id));r[e(556)][e(547)]=[...new Set([...r[e(556)][e(547)][e(554)](e=>a.some(t=>t.id===e)),...a[e(473)](t=>t.id)])],0<h[e(460)]&&(s[e(477)](r),r[e(556)].raiseCollisionEvent(h))}for(const o of s)o.Instance.raiseCollisionCommitEvent()}};["getAbsoluteBorder"]=(e,s,i)=>{var r=l,n=[];for(let t=0;t<i[r(460)];t++){var a=e+i[t].x,h=s+i[t].y;n[r(477)]({x:a,y:h})}return n};[l(489)]=(t,e)=>[{x:t/2,y:-e/2},{x:t/2,y:e/2},{x:-t/2,y:e/2},{x:-t/2,y:-e/2}];[l(518)]=(t,e)=>[{x:-(t/2+2),y:0},{x:-(t/4+1),y:e/2+1},{x:t/4+1,y:e/2+1},{x:t/2+2,y:0},{x:t/4+1,y:-(e/2+1)},{x:-(t/4+1),y:-(e/2+1)}];["doPolygonsIntersect"]=(e,s)=>{var i=l;for(let t=0;t<e.length;t++){var r=e[t],n=t===e.length-1?e[0]:e[t+1];for(let t=0;t<s[i(460)];t++){var a=s[t],h=t===s[i(460)]-1?s[0]:s[t+1];if(this[i(461)](r,n,a,h))return!0}}return!(!this[i(521)](e[0],s)&&!this.isPointInsidePolygon(s[0],e))};[l(461)]=(t,e,s,i)=>{const r=e.x-t.x,n=e.y-t.y,a=i.x-s.x,h=i.y-s.y,o=r*h-n*a;return 0!=o&&(e=s.x-t.x,i=s.y-t.y,s=(e*h-i*a)/o,t=(e*n-i*r)/o,0<=s)&&s<=1&&0<=t&&t<=1};["isPointInsidePolygon"]=(s,i)=>{var r=l;let n=!1;for(let t=0,e=i.length-1;t<i[r(460)];e=t++){var a=i[t],h=i[e];a.y>s.y!=h.y>s.y&&s.x<(h.x-a.x)*(s.y-a.y)/(h.y-a.y)+a.x&&(n=!n)}return n}}var p=new u;return{PhysicsBoundType:d,ThrustModifer:t,EnvironmentalGravityModifier:s,GravitationalAttractionModifier:a,FrictionModifier:e,BounceModifier:h,WrapAroundModifier:o,RotateTowardsVectorModifier:class extends r{["onInit"](t){var e=l;this[e(502)]=!0,this[e(524)]=t.rotationSpeed}["onTick"](t,e){var s,i=l;this[i(502)]&&(s=180*Math[i(501)](this[i(499)][i(519)],this.target[i(532)])/Math.PI,this.target[i(524)]=0,this[i(499)][i(559)]=s)}},BounceCollision:c,Ext:p}})(),t[x(562)][x(455)]={Types:{PhysicsBoundType:v[x(455)][x(493)]},Motion:{Thrust:v[x(455)][x(466)],Friction:v.Physics.FrictionModifier,EnvironmentalGravity:v[x(455)][x(484)],GravitationalAttraction:v[x(455)][x(472)],Bounce:v[x(455)][x(462)],WrapAround:v[x(455)].WrapAroundModifier,RotateTowardsVector:v[x(455)].RotateTowardsVectorModifier},Collisions:{Modifiers:{Bounce:v.Physics[x(467)]},createBox:v[x(455)][x(514)][x(489)],createHexagon:v.Physics[x(514)].createCollisionBorderHexagon,getAbsoluteBorder:v[x(455)].Ext[x(552)]},Spacial:{doPolygonsIntersect:v[x(455)][x(514)][x(515)],doLinesIntersect:v[x(455)][x(514)].doLinesIntersect,isPointInsidePolygon:v[x(455)].Ext.doPolygonsOverlap}}})("undefined"!=typeof window?window:global);const _0x25a1fc=_0xbbb4;function _0x47e9(){const t=["alpha","state","inProgress","startCursorBlinking","FadeModifer","right","fontBoundingBoxDescent","MOUSE_CLICK","clickTimeout","stopCursorBlinking","1136016aBeGlG","font","length","milliSeconds","MOUSE_CLICK_OUT","onClickHandler","release","TextBoxControl","region","cursorColor","cursorBlinkInterval","target","targetAlpha","moveTo","Arial","center","beginPath","globalAlpha","onShowStage","sqrt","cursorPosition","fillStyle","transparent","width","isFocused","6vGZQYa","clearRect","MOUSE_UP","Not a UiType component.","onLoad","speed","onRender","keyCode","moveToPosition","EventType","onClick","cursor","stroke","default","Type","attach","120vuIfMa","black","cursorVisible","callback","onInit","getXPositionForCursorPosition","targetY","down","MOUSE_MOVE","isEditable","registerProp","294CXGetX","onTick not implemented","fillText","getRegion","TAP","backColor","MOUSE_LEAVE","stateIsDown","Application","3773418ffBDkD","getStyle","Renderer","strokeStyle","Graphics","fillRect","px ","fadeIn","56980QRcAAY","startY","1309076OWVpnF","text","offsetX","ButtonControl","startX","measureText","textBaseline","setCursorPosition","slice","Input","LabelControl","13484007KlqrNu","onDraw","textColor","24753xEvHrn","8uwlDvR","fontFamily","fadeOut","MOUSE_ENTER","9068500cKxgQy","fontSize","onTick","MoveToModifer","onDispose","textAlign","middle","key","abs","height","pointer","preventDefault","onHideStage","undefined","targetX"];return(_0x47e9=function(){return t})()}function _0xbbb4(t,e){const s=_0x47e9();return(_0xbbb4=function(t,e){return t-=390,s[t]})(t,e)}function _0x5da3(t,e){var s=_0x47ab();return(_0x5da3=function(t,e){return s[t-=405]})(t,e)}function _0x47ab(){var t=["8yetqKh","176VavyFM","7mWeNAz","889599fYPdXT","140poTTeW","393852kwWXVZ","355523AwUrdJ","5Ipasxl","4116888YcMoQo","199962XMCghM","696612fRGdks","1850622BRFryI"];return(_0x47ab=function(){return t})()}(function(){for(var t=_0xbbb4,e=_0x47e9();;)try{if(831312==-parseInt(t(417))+parseInt(t(403))/2*(-parseInt(t(472))/3)+parseInt(t(447))/4+parseInt(t(401))/5*(parseInt(t(499))/6)+-parseInt(t(422))/7+-parseInt(t(418))/8*(parseInt(t(414))/9)+parseInt(t(488))/10*(parseInt(t(393))/11))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),(t=>{var e=_0xbbb4,s={};s.UI=(()=>{const a=_0xbbb4;class r extends $1S.Renderer[a(486)].StagePropType{constructor(t={}){var e=a;super(t),this[e(504)]=t[e(504)]||e(469),this[e(416)]=t[e(416)]||e(489),this[e(423)]=t.fontSize||16,this.fontFamily=t[e(419)]||e(461),this.textAlign=t[e(427)]||"left",this[e(471)]=!1,this[e(492)]&&this[e(492)](t)}[a(498)]=(t,e=0,s=0)=>{var i=a;if(!(t instanceof r))throw new Error(i(475));super.registerProp(t,{},s+1e5)};[a(415)](t){var e=a;t[e(473)](0,0,this.width,this[e(431)]),t[e(468)]=this[e(504)],t[e(398)](0,0,this[e(470)],this[e(431)])}}class t extends r{[a(492)](t){var e=a;this.text=t[e(404)]||"",this[e(497)]=void 0===t[e(497)]||t[e(497)],this[e(467)]=0,this[e(457)]=null,this[e(490)]=!1,this[e(456)]=t.cursorColor||"black",this.region=this[e(502)]()}[a(465)](){const s=a,t=this[s(455)];$1S.IO[s(412)][s(487)]($1S.IO[s(412)][s(481)].MOUSE_MOVE,this.id,t=>{var e=s;return $1S[e(395)][e(397)].getStyle()[e(483)]=e(432),!0},100,t),$1S.IO[s(412)][s(487)]($1S.IO[s(412)][s(481)][s(421)],this.id,t=>{var e=s;return $1S.Renderer[e(397)][e(394)]()[e(483)]=e(432),!0},100,t),$1S.IO[s(412)].attach($1S.IO[s(412)][s(481)][s(390)],this.id,t=>{var e=s;return $1S[e(395)][e(397)].getStyle()[e(483)]=e(485),!0},100,t),$1S.IO.Input[s(487)]($1S.IO[s(412)].EventType[s(444)],this.id,t=>{var e=s;return this[e(471)]=!0,this[e(410)](t[e(405)]),this.startCursorBlinking(),!0},100,t),$1S.IO[s(412)][s(487)]($1S.IO[s(412)].EventType[s(503)],this.id,t=>{var e=s;return this[e(471)]=!0,this[e(410)](t[e(405)]),this[e(440)](),!0},100,t),$1S.IO[s(412)][s(487)]($1S.IO.Input[s(481)][s(451)],this.id,t=>{var e=s;return this[e(471)]=!1,this[e(446)](),!0},100,t),$1S.IO[s(412)][s(487)]($1S.IO.Input[s(481)].TAP_OUT,this.id,t=>{return this[s(471)]=!1,this.stopCursorBlinking(),!0},100,t),$1S.IO.Input.attach($1S.IO[s(412)].EventType.KEY_DOWN,this.id,t=>{var e=s;if(this[e(497)]&&this[e(471)])switch(t[e(433)](),t[e(479)]){case 8:0<this[e(467)]&&(this[e(404)]=this.text.slice(0,this[e(467)]-1)+this.text.slice(this.cursorPosition),this[e(467)]--);break;case 46:this[e(467)]<this.text[e(449)]&&(this[e(404)]=this[e(404)][e(411)](0,this[e(467)])+this.text[e(411)](this[e(467)]+1));break;case 37:0<this.cursorPosition&&this[e(467)]--;break;case 39:this[e(467)]<this[e(404)][e(449)]&&this[e(467)]++;break;default:1===t[e(429)][e(449)]&&(this[e(404)]=this[e(404)][e(411)](0,this[e(467)])+t[e(429)]+this[e(404)][e(411)](this[e(467)]),this[e(467)]++)}return!0})}[a(434)](){this.onDispose()}[a(426)](){var t=a;$1S[t(395)][t(397)][t(394)]()[t(483)]="default",$1S.IO.Input[t(453)](this.id)}[a(415)](t){var e,s,i=a,r=(t[i(473)](0,0,this[i(470)],this[i(431)]),t.fillStyle=this[i(504)],t[i(398)](0,0,this[i(470)],this.height),t.font=this[i(423)]+i(399)+this.fontFamily,t.fillStyle=this[i(416)],t[i(409)]="middle",t[i(408)](this.text)),r=r.fontBoundingBoxAscent+r[i(443)];t[i(501)](this[i(404)],0,this[i(431)]/2),this[i(497)]&&this[i(471)]&&this[i(490)]&&(e=this[i(493)](this[i(467)]),s=this[i(431)]/2-r/2,t[i(396)]=this.cursorColor,t[i(463)](),t[i(460)](e,s),t.lineTo(e,s+r),t[i(484)]())}[a(410)](t){var e=a,s=t-this[e(455)].x1;let i=1/0,r=0;for(let t=0;t<=this.text[e(449)];t++){var n=Math[e(430)](this.getXPositionForCursorPosition(t)-s);n<i&&(i=n,r=t)}this[e(467)]=r}[a(493)](t){var e=a,t=this.text[e(411)](0,t);return this.workContext[e(408)](t).width}[a(440)](){const e=a;this[e(490)]=!0,this.cursorBlinkInterval=setInterval(()=>{var t=e;this.cursorVisible=!this[t(490)]},500)}[a(446)](){var t=a;this[t(471)]=!1,clearInterval(this[t(457)]),this[t(457)]=null,this.cursorVisible=!1}}class e extends r{[a(492)](t){var e=a;this.text=t[e(404)]||""}[a(415)](t){var e,s=a;super[s(415)](t),t[s(448)]=this.fontSize+s(399)+this[s(419)],t[s(468)]=this.textColor,t.textBaseline=s(428),this[s(427)]==s(462)?(e=t.measureText(this.text)[s(470)],t[s(501)](this.text,(this[s(470)]-e)/2,this[s(431)]/2,this[s(470)])):this[s(427)]==s(442)?(e=t.measureText(this.text)[s(470)],t.fillText(this.text,this[s(470)]-e,this[s(431)]/2,this[s(470)])):t[s(501)](this.text,0,this[s(431)]/2,this[s(470)])}}class s extends r{[a(492)](t){var e=a;this[e(404)]=t.text||"",this.onClickHandler=t[e(482)]||null,this[e(438)]=null,this[e(391)]=!1}[a(465)](){const s=a,t=this.getRegion();$1S.IO[s(412)][s(487)]($1S.IO[s(412)][s(481)][s(496)],this.id,t=>{var e=s;return $1S[e(395)][e(397)].getStyle()[e(483)]=e(432),!0},100,t),$1S.IO.Input[s(487)]($1S.IO[s(412)][s(481)].MOUSE_ENTER,this.id,t=>{var e=s;return $1S[e(395)][e(397)][e(394)]()[e(483)]=e(432),!0},100,t),$1S.IO[s(412)][s(487)]($1S.IO[s(412)][s(481)].MOUSE_LEAVE,this.id,t=>{var e=s;return $1S.Renderer[e(397)].getStyle()[e(483)]="default",!0},100,t),$1S.IO.Input[s(487)]($1S.IO[s(412)][s(481)].MOUSE_CLICK,this.id,t=>{const e=s;return this[e(438)]=e(495),this[e(452)]&&(this[e(445)]&&clearTimeout(this[e(445)]),this[e(445)]=setTimeout(()=>{var t=e;this.onClickHandler(this),this[t(445)]=null},100)),!0},100,t),$1S.IO.Input[s(487)]($1S.IO[s(412)].EventType[s(503)],this.id,t=>{const e=s;return this.onClickHandler&&(this[e(445)]&&clearTimeout(this[e(445)]),this[e(445)]=setTimeout(()=>{var t=e;this.onClickHandler(this),this[t(445)]=null},100)),!0},100,t),$1S.IO[s(412)].attach($1S.IO.Input[s(481)][s(474)],this.id,t=>{var e=s;return this.stateIsDown&&(this[e(438)]="up"),!0},100,t)}["onHideStage"](){this[a(426)]()}[a(415)](t){var e=a,s=(super[e(415)](t),t[e(448)]=this[e(423)]+e(399)+this[e(419)],t[e(468)]=this.textColor,t[e(409)]=e(428),"down"==this[e(438)]?(this.x+=2,this.y+=2,this[e(438)]=null,this[e(391)]=!0):"up"==this[e(438)]&&(this.x-=2,this.y-=2,this.state=null,this.stateIsDown=!1),t[e(408)](this[e(404)])[e(470)]);t[e(501)](this.text,(this.width-s)/2,this[e(431)]/2,this[e(470)])}[a(426)](){var t=a;$1S[t(395)][t(397)][t(394)]()[t(483)]=t(485),$1S.IO[t(412)].release(this.id)}}class i{constructor(t){var e=a;this[e(458)]=t,this[e(477)]=0,this[e(450)]=0,this[e(407)]=0,this[e(402)]=0,this.targetX=0,this[e(494)]=0,this[e(491)]=null}["onRender"](t){}[a(480)](t,e,s,i){var r=a,t=(this[r(407)]=this[r(458)].x,this.startY=this[r(458)].y,this[r(436)]=t,this[r(494)]=e,this[r(450)]=s,Math[r(466)]((t-this.target.x)**2+(e-this[r(458)].y)**2));this[r(477)]=t/s,this[r(491)]=i}[a(424)](t,e){var s,i,r,n=a;this.target.x==this[n(436)]&&this[n(458)].y==this.targetY||(e=e,i=this.targetX-this.target.x,r=this[n(494)]-this[n(458)].y,0<(s=Math[n(466)](i**2+r**2))&&(s<=(e=this[n(477)]*e)?(this[n(458)].x=this[n(436)],this[n(458)].y=this[n(494)],this.speed=0,this.callback&&this[n(491)]()):(i=i/s*e,r=r/s*e,this[n(458)].x+=i,this.target.y+=r)))}}(class{[(a(400),a(420),a(478),a(424))](){}});class n extends $1S[a(392)].ExtensionType{constructor(){super(0)}[a(476)]=(t,e,s)=>{s()};[a(424)]=(t,e)=>{var s=a;throw new Error(s(500))}}var h=new n;return{UiType:r,MoveToModifer:i,LabelControl:e,TextBoxControl:t,ButtonControl:s,Ext:h}})(),t.$1S.UI={UiType:s.UI.UiType,Animate:{moveTo:s.UI[e(425)],fade:s.UI[e(441)]},Controls:{TextBox:s.UI[e(454)],Button:s.UI[e(406)],Label:s.UI[e(413)]}}})(typeof window!==_0x25a1fc(435)?window:global),!function(){for(var t=_0x5da3,e=_0x47ab();;)try{if(309495==-parseInt(t(413))+-parseInt(t(405))/2+parseInt(t(410))/3*(parseInt(t(407))/4)+parseInt(t(414))/5*(-parseInt(t(406))/6)+-parseInt(t(409))/7*(-parseInt(t(415))/8)+parseInt(t(416))/9*(-parseInt(t(411))/10)+-parseInt(t(408))/11*(-parseInt(t(412))/12))break;e.push(e.shift())}catch(t){e.push(e.shift())}}();
